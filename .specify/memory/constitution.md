<!--
Sync Impact Report
==================
Version change: N/A → 1.0.0 (initial creation)

Modified principles: None (new document)
Added sections: All 5 principles, Technology Constraints, Quality Principles, Phase Governance, Amendment Procedure
Removed sections: None

Templates requiring updates: None detected
- plan-template.md: Already has Constitution Check section - aligned
- spec-template.md: Already follows Spec → Plan → Tasks flow - aligned
- tasks-template.md: Already structured for incremental delivery - aligned

Follow-up TODOs: None
-->

# hackathon-2-phases Constitution

This constitution governs all development work on the hackathon-2-phases project across Phase I through Phase V. It is the supreme governing document for all agents and must remain stable throughout the project's lifecycle.

## Core Principles

### I. Spec-Driven Development (MANDATORY)

All code changes MUST originate from approved specifications and tasks. No agent may write implementation code without prior approval of:

- A feature specification (`specs/<feature>/spec.md`) defining user stories, requirements, and acceptance criteria
- An implementation plan (`specs/<feature>/plan.md`) documenting technical approach and architecture
- A task list (`specs/<feature>/tasks.md`) breaking work into testable units

The mandatory workflow is: **Constitution → Specs → Plan → Tasks → Implement**.

Rationale: This ensures every change has explicit business justification, technical design review, and traceability from user need to code.

### II. Agent Behavior Rules

Agents MUST adhere to the following rules at all times:

1. **No manual coding by humans**: All code MUST be generated by agents following the approved workflow
2. **No feature invention**: Agents MUST NOT add functionality not specified in the approved feature specification
3. **No deviation from approved specifications**: Implementation MUST match the spec exactly; ambiguity requires spec clarification, not interpretation
4. **Refinement at spec level, not code level**: When requirements prove incomplete or contradictory, the spec MUST be updated before code changes

Rationale: These rules prevent scope creep, ensure alignment with user intent, and maintain architectural coherence.

### III. Phase Governance

The project evolves through five distinct phases, each with strict scope boundaries:

1. **Each phase is strictly scoped by its specification**: Features are limited to what the phase's spec defines
2. **Future-phase features must never leak into earlier phases**: A Phase II feature cannot be implemented in Phase I, even if it seems harmless
3. **Architecture may evolve only through updated specs and plans**: Technical debt may accumulate in early phases; it is addressed by updating plans for future phases, not by retroactive changes

Rationale: This phased approach enables incremental value delivery and prevents premature complexity.

### IV. Technology Constraints

The following technology stack is mandated:

- **Backend**: Python with FastAPI and SQLModel
- **Database**: Neon DB (PostgreSQL-compatible serverless)
- **Frontend** (Phase III+): Next.js
- **AI Framework**: OpenAI Agents SDK
- **Integration**: MCP (Model Context Protocol)
- **Infrastructure** (Phase IV+): Docker, Kubernetes, Kafka, Dapr

All code MUST conform to these technology choices. Introduction of new technologies requires constitution amendment.

Rationale: Consistency in technology choices reduces cognitive load, enables shared knowledge, and ensures maintainability.

### V. Quality Principles

All code and architecture MUST adhere to:

1. **Clean architecture**: Clear separation of concerns with well-defined layers (models, services, API)
2. **Stateless services where required**: Services MUST be designed for horizontal scalability unless statefulness is explicitly justified
3. **Clear separation of concerns**: Each component has a single, well-defined responsibility
4. **Cloud-native readiness**: Services are designed for containerized deployment with proper configuration management

Rationale: These principles ensure the system remains maintainable, testable, and deployable at scale.

## Technology Constraints

The hackathon-2-phases project uses the following technology stack:

| Layer | Technology | Notes |
|-------|------------|-------|
| Backend Language | Python | Core implementation language |
| API Framework | FastAPI | REST API and async support |
| ORM | SQLModel | Type-safe database operations |
| Database | Neon DB | Serverless PostgreSQL |
| Frontend | Next.js | From Phase III onwards |
| AI Framework | OpenAI Agents SDK | Agent orchestration |
| Integration | MCP | Standard protocol for tool integration |
| Containerization | Docker | From Phase IV onwards |
| Orchestration | Kubernetes | From Phase IV onwards |
| Messaging | Kafka | From Phase IV onwards |
| Distributed Runtime | Dapr | From Phase IV onwards |

All dependencies MUST be declared in version-controlled files. No untracked dependencies.

## Development Workflow

### Specification Phase

1. User provides feature description
2. Agent creates feature specification with user stories, requirements, and acceptance criteria
3. Specification is reviewed and approved by human stakeholder

### Planning Phase

1. Agent creates implementation plan documenting technical approach
2. Architecture decisions are documented
3. Plan is reviewed and approved

### Task Phase

1. Agent creates actionable task list from approved spec and plan
2. Tasks are organized by user story for independent implementation
3. Task list is approved

### Implementation Phase

1. Agent executes tasks in order, writing tests before implementation (Red-Green-Refactor)
2. Each task produces working, tested code
3. Code is committed with reference to the originating task

## Amendment Procedure

This constitution may be amended through the following process:

1. Amendment proposal is documented with rationale and impact analysis
2. Amendment is reviewed for consistency with existing principles
3. Version is incremented according to semantic versioning rules:
   - **MAJOR**: Backward incompatible governance changes or principle removals
   - **MINOR**: New principles or materially expanded guidance
   - **PATCH**: Clarifications, wording improvements, typo fixes
4. Amendment is ratified and recorded with date
5. All templates and documentation are updated to reflect the change

All agents MUST operate under the current version of this constitution.

**Version**: 1.0.0 | **Ratified**: 2025-12-30 | **Last Amended**: 2025-12-30
